# 引入

保证曲线平滑的情况下，通过拉动滑块实现曲线形状的调节

贝塞尔曲线广泛应用于各种绘图相关的软件中，甚至计算机中的字体设计就全靠贝塞尔曲线来控制。

## 举例

在线段AB和BC上找到D、E两个点，使AD/DB = BE/EC

连接DE，并在DE上找到F点，使其满足DF/FE = AD/DB = BE/EC （抛物线的三切线定理）

## 递归性质

三个控制点形成两线段，每个线段上有一个运动点，通过两个运动点再形成一个线段，线段上那个点的运动轨迹就构成了贝塞尔曲线

如果一开始是四个，五个甚至更多的控制点就会形成对应的几阶贝塞尔曲线，由阶数递归定义

## 公式

点在线段上，可以用C = (1-t)A + tB来表示，如果把整个递归的每一步都按这个展开，最终可以得到一个公式
$$
b^n(t) = b_0^n(t) = \sum_{j=0}^{n}b_jB_j^n(t)
$$
Bernstein polynomials:
$$
B_i^n(t) = (_i^n)t^i(1-t)^{n-i}
$$

# 分段贝塞尔曲线

阶数过高情况调整控制点对曲线影响也小，做出想要的效果比较麻烦，所以采用分段的贝塞尔曲线。保证每一小段不会太复杂，每次只用调小段，还可以做到只调局部不影响大局。

## 分段问题

曲线在段与段的交界处保证平滑，平滑是一阶导数连续，左右导数的极限相同

对两侧的贝塞尔曲线求导，分别代入 t=0 和 t=1 （即贝塞尔曲线的开始和结束时间），让二者相等。此时能发现，当两侧控制点与分段交接点**共线且**形成的线段**长度相等**时，满足曲线平滑性质。

## 在线体验贝塞尔曲线

[Bezier Curve Edit (hws.edu)](https://math.hws.edu/eck/cs424/notes2013/canvas/bezier.html)

## 实验内容

- 完成贝塞尔曲线的递归定义函数。

- 对曲线进行反走样（Anti-Aliasing, AA）

### 参考代码

[GAMES101_Assignment](https://github.com/DQSSSSS/GAMES101_Assignment/blob/master/4/main.cpp)

recursive_bezier函数实现点在线段上公式C = (1-t)A + tB

bezier函数实现曲线附近做插值，满足离曲线越近的像素的像素值越高，越远的越低
